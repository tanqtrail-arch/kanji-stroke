/**
 * enrich-readings.js
 * 学年別JSONに読み・意味データを追加する
 * Usage: node scripts/enrich-readings.js
 * v1.0.0
 */
const fs = require('fs');
const path = require('path');

// ============================================================
// 小1〜小6 読み・意味データ
// 形式: { 漢字: { on: [...], kun: [...], meaning: "..." } }
// ============================================================

const READINGS = {
// ---- 小1 (80字) ----
'一': { on: ['イチ','イツ'], kun: ['ひと','ひと-つ'], meaning: 'ひとつ' },
'右': { on: ['ウ','ユウ'], kun: ['みぎ'], meaning: 'みぎ' },
'雨': { on: ['ウ'], kun: ['あめ','あま'], meaning: 'あめ' },
'円': { on: ['エン'], kun: ['まる','まる-い'], meaning: 'まるい・お金の単位' },
'王': { on: ['オウ'], kun: [], meaning: 'おうさま' },
'音': { on: ['オン','イン'], kun: ['おと','ね'], meaning: 'おと' },
'下': { on: ['カ','ゲ'], kun: ['した','しも','もと','さ-げる','くだ-る','お-ろす'], meaning: 'した' },
'火': { on: ['カ'], kun: ['ひ','ほ'], meaning: 'ひ' },
'花': { on: ['カ'], kun: ['はな'], meaning: 'はな' },
'貝': { on: ['バイ'], kun: ['かい'], meaning: 'かい' },
'学': { on: ['ガク'], kun: ['まな-ぶ'], meaning: 'まなぶ' },
'気': { on: ['キ','ケ'], kun: [], meaning: 'き・ようす' },
'九': { on: ['キュウ','ク'], kun: ['ここの','ここの-つ'], meaning: 'ここのつ' },
'休': { on: ['キュウ'], kun: ['やす-む','やす-まる'], meaning: 'やすむ' },
'玉': { on: ['ギョク'], kun: ['たま'], meaning: 'たま' },
'金': { on: ['キン','コン'], kun: ['かね','かな'], meaning: 'かね・きん' },
'空': { on: ['クウ'], kun: ['そら','あ-く','から'], meaning: 'そら・からっぽ' },
'月': { on: ['ゲツ','ガツ'], kun: ['つき'], meaning: 'つき' },
'犬': { on: ['ケン'], kun: ['いぬ'], meaning: 'いぬ' },
'見': { on: ['ケン'], kun: ['み-る','み-える','み-せる'], meaning: 'みる' },
'五': { on: ['ゴ'], kun: ['いつ','いつ-つ'], meaning: 'いつつ' },
'口': { on: ['コウ','ク'], kun: ['くち'], meaning: 'くち' },
'校': { on: ['コウ'], kun: [], meaning: 'がっこう' },
'左': { on: ['サ'], kun: ['ひだり'], meaning: 'ひだり' },
'三': { on: ['サン'], kun: ['み','み-つ','みっ-つ'], meaning: 'みっつ' },
'山': { on: ['サン'], kun: ['やま'], meaning: 'やま' },
'子': { on: ['シ','ス'], kun: ['こ'], meaning: 'こ・こども' },
'四': { on: ['シ'], kun: ['よ','よ-つ','よっ-つ','よん'], meaning: 'よっつ' },
'糸': { on: ['シ'], kun: ['いと'], meaning: 'いと' },
'字': { on: ['ジ'], kun: [], meaning: 'じ・もじ' },
'耳': { on: ['ジ'], kun: ['みみ'], meaning: 'みみ' },
'七': { on: ['シチ'], kun: ['なな','なな-つ','なの'], meaning: 'ななつ' },
'車': { on: ['シャ'], kun: ['くるま'], meaning: 'くるま' },
'手': { on: ['シュ'], kun: ['て','た'], meaning: 'て' },
'十': { on: ['ジュウ','ジッ'], kun: ['とお','と'], meaning: 'とお' },
'出': { on: ['シュツ','スイ'], kun: ['で-る','だ-す'], meaning: 'でる・だす' },
'女': { on: ['ジョ','ニョ'], kun: ['おんな','め'], meaning: 'おんな' },
'小': { on: ['ショウ'], kun: ['ちい-さい','こ','お'], meaning: 'ちいさい' },
'上': { on: ['ジョウ','ショウ'], kun: ['うえ','うわ','かみ','あ-げる','のぼ-る'], meaning: 'うえ' },
'森': { on: ['シン'], kun: ['もり'], meaning: 'もり' },
'人': { on: ['ジン','ニン'], kun: ['ひと'], meaning: 'ひと' },
'水': { on: ['スイ'], kun: ['みず'], meaning: 'みず' },
'正': { on: ['セイ','ショウ'], kun: ['ただ-しい','まさ'], meaning: 'ただしい' },
'生': { on: ['セイ','ショウ'], kun: ['い-きる','う-まれる','なま'], meaning: 'いきる・うまれる' },
'青': { on: ['セイ','ショウ'], kun: ['あお','あお-い'], meaning: 'あおい' },
'夕': { on: ['セキ'], kun: ['ゆう'], meaning: 'ゆうがた' },
'石': { on: ['セキ','シャク','コク'], kun: ['いし'], meaning: 'いし' },
'赤': { on: ['セキ','シャク'], kun: ['あか','あか-い'], meaning: 'あかい' },
'千': { on: ['セン'], kun: ['ち'], meaning: 'せん・1000' },
'川': { on: ['セン'], kun: ['かわ'], meaning: 'かわ' },
'先': { on: ['セン'], kun: ['さき','ま-ず'], meaning: 'さき' },
'早': { on: ['ソウ','サッ'], kun: ['はや-い','はや-まる'], meaning: 'はやい' },
'草': { on: ['ソウ'], kun: ['くさ'], meaning: 'くさ' },
'足': { on: ['ソク'], kun: ['あし','た-りる','た-す'], meaning: 'あし・たりる' },
'村': { on: ['ソン'], kun: ['むら'], meaning: 'むら' },
'大': { on: ['ダイ','タイ'], kun: ['おお','おお-きい','おお-いに'], meaning: 'おおきい' },
'男': { on: ['ダン','ナン'], kun: ['おとこ'], meaning: 'おとこ' },
'竹': { on: ['チク'], kun: ['たけ'], meaning: 'たけ' },
'中': { on: ['チュウ'], kun: ['なか'], meaning: 'なか' },
'虫': { on: ['チュウ'], kun: ['むし'], meaning: 'むし' },
'町': { on: ['チョウ'], kun: ['まち'], meaning: 'まち' },
'天': { on: ['テン'], kun: ['あめ','あま'], meaning: 'そら・てん' },
'田': { on: ['デン'], kun: ['た'], meaning: 'た・たんぼ' },
'土': { on: ['ド','ト'], kun: ['つち'], meaning: 'つち' },
'二': { on: ['ニ'], kun: ['ふた','ふた-つ'], meaning: 'ふたつ' },
'日': { on: ['ニチ','ジツ'], kun: ['ひ','か'], meaning: 'ひ・太陽・日' },
'入': { on: ['ニュウ'], kun: ['い-る','い-れる','はい-る'], meaning: 'いる・はいる' },
'年': { on: ['ネン'], kun: ['とし'], meaning: 'とし・ねん' },
'白': { on: ['ハク','ビャク'], kun: ['しろ','しろ-い','しら'], meaning: 'しろい' },
'八': { on: ['ハチ'], kun: ['や','や-つ','やっ-つ','よう'], meaning: 'やっつ' },
'百': { on: ['ヒャク'], kun: [], meaning: 'ひゃく・100' },
'文': { on: ['ブン','モン'], kun: ['ふみ'], meaning: 'ぶん・もじ' },
'木': { on: ['モク','ボク'], kun: ['き','こ'], meaning: 'き' },
'本': { on: ['ホン'], kun: ['もと'], meaning: 'もと・ほん' },
'名': { on: ['メイ','ミョウ'], kun: ['な'], meaning: 'な・なまえ' },
'目': { on: ['モク','ボク'], kun: ['め','ま'], meaning: 'め' },
'立': { on: ['リツ','リュウ'], kun: ['た-つ','た-てる'], meaning: 'たつ' },
'力': { on: ['リョク','リキ'], kun: ['ちから'], meaning: 'ちから' },
'林': { on: ['リン'], kun: ['はやし'], meaning: 'はやし' },
'六': { on: ['ロク'], kun: ['む','む-つ','むっ-つ','むい'], meaning: 'むっつ' },

// ---- 小2 (160字) ----
'刀': { on: ['トウ'], kun: ['かたな'], meaning: 'かたな' },
'丸': { on: ['ガン'], kun: ['まる','まる-い','まる-める'], meaning: 'まるい' },
'弓': { on: ['キュウ'], kun: ['ゆみ'], meaning: 'ゆみ' },
'工': { on: ['コウ','ク'], kun: [], meaning: 'こうさく・つくる' },
'才': { on: ['サイ'], kun: [], meaning: 'さい・才能' },
'万': { on: ['マン','バン'], kun: [], meaning: 'まん・10000' },
'引': { on: ['イン'], kun: ['ひ-く','ひ-ける'], meaning: 'ひく' },
'牛': { on: ['ギュウ'], kun: ['うし'], meaning: 'うし' },
'元': { on: ['ゲン','ガン'], kun: ['もと'], meaning: 'もと' },
'戸': { on: ['コ'], kun: ['と'], meaning: 'と・とびら' },
'午': { on: ['ゴ'], kun: [], meaning: 'ひる・うま' },
'公': { on: ['コウ'], kun: ['おおやけ'], meaning: 'おおやけ' },
'今': { on: ['コン','キン'], kun: ['いま'], meaning: 'いま' },
'止': { on: ['シ'], kun: ['と-まる','と-める'], meaning: 'とまる' },
'少': { on: ['ショウ'], kun: ['すく-ない','すこ-し'], meaning: 'すくない・すこし' },
'心': { on: ['シン'], kun: ['こころ'], meaning: 'こころ' },
'切': { on: ['セツ','サイ'], kun: ['き-る','き-れる'], meaning: 'きる' },
'太': { on: ['タイ','タ'], kun: ['ふと-い','ふと-る'], meaning: 'ふとい' },
'内': { on: ['ナイ','ダイ'], kun: ['うち'], meaning: 'うち・なか' },
'父': { on: ['フ'], kun: ['ちち'], meaning: 'ちち・おとうさん' },
'分': { on: ['ブン','フン','ブ'], kun: ['わ-ける','わ-かる'], meaning: 'わける・わかる' },
'方': { on: ['ホウ'], kun: ['かた'], meaning: 'かた・ほうがく' },
'毛': { on: ['モウ'], kun: ['け'], meaning: 'け' },
'友': { on: ['ユウ'], kun: ['とも'], meaning: 'ともだち' },
'外': { on: ['ガイ','ゲ'], kun: ['そと','ほか','はず-す'], meaning: 'そと' },
'兄': { on: ['ケイ','キョウ'], kun: ['あに'], meaning: 'あに' },
'古': { on: ['コ'], kun: ['ふる-い','ふる-す'], meaning: 'ふるい' },
'広': { on: ['コウ'], kun: ['ひろ-い','ひろ-げる'], meaning: 'ひろい' },
'市': { on: ['シ'], kun: ['いち'], meaning: 'いち・まち' },
'矢': { on: ['シ'], kun: ['や'], meaning: 'や' },
'台': { on: ['ダイ','タイ'], kun: [], meaning: 'だい・台' },
'冬': { on: ['トウ'], kun: ['ふゆ'], meaning: 'ふゆ' },
'半': { on: ['ハン'], kun: ['なか-ば'], meaning: 'はんぶん' },
'母': { on: ['ボ'], kun: ['はは'], meaning: 'はは・おかあさん' },
'北': { on: ['ホク'], kun: ['きた'], meaning: 'きた' },
'用': { on: ['ヨウ'], kun: ['もち-いる'], meaning: 'もちいる・つかう' },
'羽': { on: ['ウ'], kun: ['は','はね'], meaning: 'はね' },
'回': { on: ['カイ'], kun: ['まわ-る','まわ-す'], meaning: 'まわる' },
'会': { on: ['カイ','エ'], kun: ['あ-う'], meaning: 'あう' },
'交': { on: ['コウ'], kun: ['まじ-わる','ま-ぜる','か-わす'], meaning: 'まじわる' },
'光': { on: ['コウ'], kun: ['ひかり','ひか-る'], meaning: 'ひかり' },
'考': { on: ['コウ'], kun: ['かんが-える'], meaning: 'かんがえる' },
'行': { on: ['コウ','ギョウ','アン'], kun: ['い-く','ゆ-く','おこな-う'], meaning: 'いく・おこなう' },
'合': { on: ['ゴウ','ガッ','カッ'], kun: ['あ-う','あ-わせる'], meaning: 'あう・あわせる' },
'寺': { on: ['ジ'], kun: ['てら'], meaning: 'てら' },
'自': { on: ['ジ','シ'], kun: ['みずか-ら'], meaning: 'じぶん' },
'色': { on: ['ショク','シキ'], kun: ['いろ'], meaning: 'いろ' },
'西': { on: ['セイ','サイ'], kun: ['にし'], meaning: 'にし' },
'多': { on: ['タ'], kun: ['おお-い'], meaning: 'おおい' },
'地': { on: ['チ','ジ'], kun: [], meaning: 'ち・じめん' },
'池': { on: ['チ'], kun: ['いけ'], meaning: 'いけ' },
'当': { on: ['トウ'], kun: ['あ-たる','あ-てる'], meaning: 'あたる' },
'同': { on: ['ドウ'], kun: ['おな-じ'], meaning: 'おなじ' },
'肉': { on: ['ニク'], kun: [], meaning: 'にく' },
'米': { on: ['ベイ','マイ'], kun: ['こめ'], meaning: 'こめ' },
'毎': { on: ['マイ'], kun: ['ごと'], meaning: 'まいにち・ごと' },
'何': { on: ['カ'], kun: ['なに','なん'], meaning: 'なに' },
'角': { on: ['カク'], kun: ['かど','つの'], meaning: 'かど・つの' },
'汽': { on: ['キ'], kun: [], meaning: 'じょうき' },
'近': { on: ['キン'], kun: ['ちか-い'], meaning: 'ちかい' },
'形': { on: ['ケイ','ギョウ'], kun: ['かたち','かた'], meaning: 'かたち' },
'言': { on: ['ゲン','ゴン'], kun: ['い-う','こと'], meaning: 'いう・ことば' },
'谷': { on: ['コク'], kun: ['たに'], meaning: 'たに' },
'作': { on: ['サク','サ'], kun: ['つく-る'], meaning: 'つくる' },
'社': { on: ['シャ'], kun: ['やしろ'], meaning: 'やしろ・かいしゃ' },
'図': { on: ['ズ','ト'], kun: ['はか-る'], meaning: 'ず・え' },
'声': { on: ['セイ','ショウ'], kun: ['こえ','こわ'], meaning: 'こえ' },
'走': { on: ['ソウ'], kun: ['はし-る'], meaning: 'はしる' },
'体': { on: ['タイ','テイ'], kun: ['からだ'], meaning: 'からだ' },
'弟': { on: ['テイ','ダイ','デ'], kun: ['おとうと'], meaning: 'おとうと' },
'売': { on: ['バイ'], kun: ['う-る','う-れる'], meaning: 'うる' },
'麦': { on: ['バク'], kun: ['むぎ'], meaning: 'むぎ' },
'来': { on: ['ライ'], kun: ['く-る','きた-る','きた-す'], meaning: 'くる' },
'里': { on: ['リ'], kun: ['さと'], meaning: 'さと' },
'画': { on: ['ガ','カク'], kun: [], meaning: 'え・かく' },
'岩': { on: ['ガン'], kun: ['いわ'], meaning: 'いわ' },
'京': { on: ['キョウ','ケイ'], kun: [], meaning: 'みやこ' },
'国': { on: ['コク'], kun: ['くに'], meaning: 'くに' },
'姉': { on: ['シ'], kun: ['あね'], meaning: 'あね・おねえさん' },
'知': { on: ['チ'], kun: ['し-る'], meaning: 'しる' },
'長': { on: ['チョウ'], kun: ['なが-い'], meaning: 'ながい' },
'直': { on: ['チョク','ジキ'], kun: ['ただ-ちに','なお-す','なお-る'], meaning: 'なおす・まっすぐ' },
'店': { on: ['テン'], kun: ['みせ'], meaning: 'みせ' },
'東': { on: ['トウ'], kun: ['ひがし'], meaning: 'ひがし' },
'歩': { on: ['ホ','ブ','フ'], kun: ['ある-く','あゆ-む'], meaning: 'あるく' },
'妹': { on: ['マイ'], kun: ['いもうと'], meaning: 'いもうと' },
'明': { on: ['メイ','ミョウ'], kun: ['あか-るい','あ-ける','あき-らか'], meaning: 'あかるい' },
'門': { on: ['モン'], kun: ['かど'], meaning: 'もん・かど' },
'夜': { on: ['ヤ'], kun: ['よ','よる'], meaning: 'よる' },
'科': { on: ['カ'], kun: [], meaning: 'か・かもく' },
'海': { on: ['カイ'], kun: ['うみ'], meaning: 'うみ' },
'活': { on: ['カツ'], kun: [], meaning: 'かつどう・いきる' },
'計': { on: ['ケイ'], kun: ['はか-る','はか-らう'], meaning: 'はかる・けいさん' },
'後': { on: ['ゴ','コウ'], kun: ['のち','うし-ろ','あと','おく-れる'], meaning: 'うしろ・あと' },
'思': { on: ['シ'], kun: ['おも-う'], meaning: 'おもう' },
'室': { on: ['シツ'], kun: ['むろ'], meaning: 'へや' },
'首': { on: ['シュ'], kun: ['くび'], meaning: 'くび' },
'秋': { on: ['シュウ'], kun: ['あき'], meaning: 'あき' },
'春': { on: ['シュン'], kun: ['はる'], meaning: 'はる' },
'食': { on: ['ショク','ジキ'], kun: ['た-べる','く-う'], meaning: 'たべる' },
'星': { on: ['セイ','ショウ'], kun: ['ほし'], meaning: 'ほし' },
'前': { on: ['ゼン'], kun: ['まえ'], meaning: 'まえ' },
'茶': { on: ['チャ','サ'], kun: [], meaning: 'ちゃ・おちゃ' },
'昼': { on: ['チュウ'], kun: ['ひる'], meaning: 'ひる' },
'点': { on: ['テン'], kun: [], meaning: 'てん' },
'南': { on: ['ナン','ナ'], kun: ['みなみ'], meaning: 'みなみ' },
'風': { on: ['フウ','フ'], kun: ['かぜ','かざ'], meaning: 'かぜ' },
'夏': { on: ['カ','ゲ'], kun: ['なつ'], meaning: 'なつ' },
'家': { on: ['カ','ケ'], kun: ['いえ','や'], meaning: 'いえ' },
'記': { on: ['キ'], kun: ['しる-す'], meaning: 'しるす・きろく' },
'帰': { on: ['キ'], kun: ['かえ-る','かえ-す'], meaning: 'かえる' },
'原': { on: ['ゲン'], kun: ['はら'], meaning: 'はら・もと' },
'高': { on: ['コウ'], kun: ['たか-い','たか-まる','たか'], meaning: 'たかい' },
'紙': { on: ['シ'], kun: ['かみ'], meaning: 'かみ' },
'時': { on: ['ジ'], kun: ['とき'], meaning: 'とき・じかん' },
'弱': { on: ['ジャク'], kun: ['よわ-い','よわ-る'], meaning: 'よわい' },
'書': { on: ['ショ'], kun: ['か-く'], meaning: 'かく' },
'通': { on: ['ツウ','ツ'], kun: ['とお-る','とお-す','かよ-う'], meaning: 'とおる' },
'馬': { on: ['バ'], kun: ['うま','ま'], meaning: 'うま' },
'魚': { on: ['ギョ'], kun: ['うお','さかな'], meaning: 'さかな' },
'強': { on: ['キョウ','ゴウ'], kun: ['つよ-い','つよ-まる','し-いる'], meaning: 'つよい' },
'教': { on: ['キョウ'], kun: ['おし-える','おそ-わる'], meaning: 'おしえる' },
'黄': { on: ['コウ','オウ'], kun: ['き','こ'], meaning: 'きいろ' },
'黒': { on: ['コク'], kun: ['くろ','くろ-い'], meaning: 'くろい' },
'細': { on: ['サイ'], kun: ['ほそ-い','ほそ-る','こま-かい'], meaning: 'ほそい' },
'週': { on: ['シュウ'], kun: [], meaning: 'しゅう・1しゅうかん' },
'雪': { on: ['セツ'], kun: ['ゆき'], meaning: 'ゆき' },
'船': { on: ['セン'], kun: ['ふね','ふな'], meaning: 'ふね' },
'線': { on: ['セン'], kun: [], meaning: 'せん・ライン' },
'組': { on: ['ソ'], kun: ['く-む','くみ'], meaning: 'くむ・くみ' },
'鳥': { on: ['チョウ'], kun: ['とり'], meaning: 'とり' },
'野': { on: ['ヤ'], kun: ['の'], meaning: 'の・のはら' },
'理': { on: ['リ'], kun: [], meaning: 'り・ことわり' },
'雲': { on: ['ウン'], kun: ['くも'], meaning: 'くも' },
'絵': { on: ['カイ','エ'], kun: [], meaning: 'え' },
'間': { on: ['カン','ケン'], kun: ['あいだ','ま'], meaning: 'あいだ' },
'場': { on: ['ジョウ'], kun: ['ば'], meaning: 'ば・ばしょ' },
'晴': { on: ['セイ'], kun: ['は-れる','は-らす'], meaning: 'はれ' },
'朝': { on: ['チョウ'], kun: ['あさ'], meaning: 'あさ' },
'答': { on: ['トウ'], kun: ['こた-える','こた-え'], meaning: 'こたえる' },
'道': { on: ['ドウ','トウ'], kun: ['みち'], meaning: 'みち' },
'買': { on: ['バイ'], kun: ['か-う'], meaning: 'かう' },
'番': { on: ['バン'], kun: [], meaning: 'ばん・ばんごう' },
'園': { on: ['エン'], kun: ['その'], meaning: 'その・こうえん' },
'遠': { on: ['エン','オン'], kun: ['とお-い'], meaning: 'とおい' },
'楽': { on: ['ガク','ラク'], kun: ['たの-しい','たの-しむ'], meaning: 'たのしい' },
'新': { on: ['シン'], kun: ['あたら-しい','あら-た','にい'], meaning: 'あたらしい' },
'数': { on: ['スウ','ス'], kun: ['かず','かぞ-える'], meaning: 'かず' },
'電': { on: ['デン'], kun: [], meaning: 'でんき' },
'話': { on: ['ワ'], kun: ['はな-す','はなし'], meaning: 'はなす' },
'歌': { on: ['カ'], kun: ['うた','うた-う'], meaning: 'うた' },
'語': { on: ['ゴ'], kun: ['かた-る','かた-らう'], meaning: 'かたる・ことば' },
'算': { on: ['サン'], kun: [], meaning: 'けいさん' },
'読': { on: ['ドク','トク','トウ'], kun: ['よ-む'], meaning: 'よむ' },
'聞': { on: ['ブン','モン'], kun: ['き-く','き-こえる'], meaning: 'きく' },
'鳴': { on: ['メイ'], kun: ['な-く','な-る','な-らす'], meaning: 'なく・なる' },
'親': { on: ['シン'], kun: ['おや','した-しい','した-しむ'], meaning: 'おや・したしい' },
'頭': { on: ['トウ','ズ','ト'], kun: ['あたま','かしら'], meaning: 'あたま' },
'顔': { on: ['ガン'], kun: ['かお'], meaning: 'かお' },
'曜': { on: ['ヨウ'], kun: [], meaning: 'ようび' },
'週': { on: ['シュウ'], kun: [], meaning: 'しゅう' },
};

// ============================================================
// メイン処理
// ============================================================
function main() {
  const dataDir = path.join(__dirname, '..', 'data');
  let totalEnriched = 0;

  for (let grade = 1; grade <= 6; grade++) {
    const filePath = path.join(dataDir, `kanji-grade${grade}.json`);
    const data = JSON.parse(fs.readFileSync(filePath, 'utf8'));
    let enriched = 0;

    for (const entry of data) {
      const r = READINGS[entry.char];
      if (r) {
        entry.readings = { on: r.on, kun: r.kun };
        entry.meaning = r.meaning;
        enriched++;
      }
    }

    fs.writeFileSync(filePath, JSON.stringify(data, null, 2), 'utf8');
    console.log(`小${grade}: ${enriched}/${data.length}字 に読みデータ追加`);
    totalEnriched += enriched;
  }

  console.log(`\n合計: ${totalEnriched} / 1026 字に読みデータ追加`);
}

main();
